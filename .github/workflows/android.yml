      - name: Build APK
        env:
          BUBBLEWRAP_KEYSTORE_PASSWORD: "password"
          BUBBLEWRAP_KEY_PASSWORD: "password"
        run: |
          # 1. SETUP BUBBLEWRAP CONFIG (Biar dia ga nanya lokasi SDK/JDK)
          # Kita paksa dia tau lokasinya lewat file config buatan
          mkdir -p ~/.bubblewrap
          echo "{\"jdkPath\":\"$JAVA_HOME\",\"androidSdkPath\":\"$ANDROID_HOME\"}" > ~/.bubblewrap/config.json

          # 2. GENERATE KEYSTORE (Pake password minimal 6 karakter)
          rm -f android-keystore.jks
          keytool -genkeypair -v \
            -keystore android-keystore.jks \
            -keyalg RSA \
            -keysize 2048 \
            -validity 10000 \
            -alias android \
            -dname "CN=DinduyNote, OU=Engineering, O=Dinduy, L=Jakarta, ST=DKI Jakarta, C=ID" \
            -storepass password \
            -keypass password

          # 3. [span_1](start_span)BUILD APK (Pake printf buat nyuapin password kalau env-nya dicuekin)[span_1](end_span)
          # Kita kirim password dua kali (keystore pass & key pass)
          printf "password\npassword\n" | bubblewrap build --manifest twa-manifest.json --skipPwaValidation --verbose
